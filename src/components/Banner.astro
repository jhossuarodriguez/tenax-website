---
import { BANNER_IMAGES } from "./consts/Images";
---

<section id="carousel" class="relative w-full h-screen overflow-hidden z-0">
    {
        BANNER_IMAGES.map((banner, index) => (
            <div
                class={`absolute inset-0 transition-opacity duration-1000 ${
                    index === 0 ? "opacity-100" : "opacity-0"
                }`}
                data-index={index}
            >
                <img
                    src={banner.image}
                    alt={banner.alt}
                    style="width: 100%; aspect-ratio: 400:267;"
                    class="w-full h-full object-cover animate-kenburns aspect-auto"
                    loading="eager"
                />
                <div class="absolute inset-0 bg-black opacity-30" />
            </div>
        ))
    }
    <div class="absolute translate-y-72 left-0 w-full px-36 z-[9999]">
        <h1
            class="text-white/90 text-5xl font-semibold uppercase mb-2 animate-fade-in animate-delay-300"
        >
            Bienvenido a <br />Tenax Construction
        </h1>
        <p
            class="text-white/90 text-xl mt-6 uppercase animate-fade-in animate-delay-500"
        >
            Reforzamos suelos, elevamos tus proyectos
        </p>
        <div class="mt-20">
            <a
                href="/contacto"
                class="bg-[#F46738]/90 text-white/80 px-6 py-4 rounded hover:bg-[#e35d2c]/90 transition-transform duration-300 animate-fade-in animate-delay-700"
                title="Contáctanos"
                aria-label="Contáctanos"
            >
                PROYECTOS
            </a>
        </div>
    </div>
</section>

<script type="module" is:inline>
    const images = document.querySelectorAll("#carousel > div");
    let currentIndex = 0;
    const totalImages = images.length;

    setInterval(() => {
        images[currentIndex].classList.remove("opacity-100");
        images[currentIndex].classList.add("opacity-0");

        currentIndex = (currentIndex + 1) % totalImages;

        setTimeout(() => {
            images[currentIndex].classList.remove("opacity-0");
            images[currentIndex].classList.add("opacity-100");
        }, 50);
    }, 4000);
</script>
